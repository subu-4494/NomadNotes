{"ast":null,"code":"// src/services/api.js\nconst API_BASE_URL=\"http://localhost:5000/api\";// LOGIN\nexport async function loginUser(credentials){try{const response=await fetch(\"\".concat(API_BASE_URL,\"/auth/login\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(credentials)});return await response.json();}catch(err){return{message:\"Network error. Please try again later.\"};}}// REGISTER\nexport async function registerUser(credentials){try{const response=await fetch(\"\".concat(API_BASE_URL,\"/auth/register\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(credentials)});const data=await response.json();if(!response.ok){throw new Error(data.message||\"Registration failed\");}return data;}catch(err){return{message:err.message||\"Network error\"};}}// GET NOTES\nexport async function getNotes(){const token=localStorage.getItem(\"token\");const res=await fetch(\"\".concat(API_BASE_URL,\"/notes\"),{headers:{Authorization:\"Bearer \".concat(token)}});if(!res.ok)throw new Error(\"Failed to fetch notes\");return res.json();}// CREATE NOTE (with image upload)\nexport async function createNote(formData){const token=localStorage.getItem(\"token\");const res=await fetch(\"\".concat(API_BASE_URL,\"/notes/create\"),{method:\"POST\",headers:{Authorization:\"Bearer \".concat(token)},body:formData// must be FormData (not JSON)\n});if(!res.ok)throw new Error(\"Failed to create note\");return res.json();}// DELETE NOTE\nexport async function deleteNote(id){const token=localStorage.getItem(\"token\");const res=await fetch(\"\".concat(API_BASE_URL,\"/notes/\").concat(id),{method:\"DELETE\",headers:{Authorization:\"Bearer \".concat(token)}});if(!res.ok)throw new Error(\"Failed to delete note\");return res.json();}","map":{"version":3,"names":["API_BASE_URL","loginUser","credentials","response","fetch","concat","method","headers","body","JSON","stringify","json","err","message","registerUser","data","ok","Error","getNotes","token","localStorage","getItem","res","Authorization","createNote","formData","deleteNote","id"],"sources":["D:/web development/Projects/NomadNotes/frontend/src/services/api.js"],"sourcesContent":["// src/services/api.js\r\n\r\nconst API_BASE_URL = \"http://localhost:5000/api\";\r\n\r\n// LOGIN\r\nexport async function loginUser(credentials) {\r\n  try {\r\n    const response = await fetch(`${API_BASE_URL}/auth/login`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(credentials),\r\n    });\r\n    return await response.json();\r\n  } catch (err) {\r\n    return { message: \"Network error. Please try again later.\" };\r\n  }\r\n}\r\n\r\n// REGISTER\r\nexport async function registerUser(credentials) {\r\n  try {\r\n    const response = await fetch(`${API_BASE_URL}/auth/register`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(credentials),\r\n    });\r\n\r\n    const data = await response.json();\r\n    if (!response.ok) {\r\n      throw new Error(data.message || \"Registration failed\");\r\n    }\r\n\r\n    return data;\r\n  } catch (err) {\r\n    return { message: err.message || \"Network error\" };\r\n  }\r\n}\r\n\r\n// GET NOTES\r\nexport async function getNotes() {\r\n  const token = localStorage.getItem(\"token\");\r\n  const res = await fetch(`${API_BASE_URL}/notes`, {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n  if (!res.ok) throw new Error(\"Failed to fetch notes\");\r\n  return res.json();\r\n}\r\n\r\n// CREATE NOTE (with image upload)\r\nexport async function createNote(formData) {\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  const res = await fetch(`${API_BASE_URL}/notes/create`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: formData, // must be FormData (not JSON)\r\n  });\r\n\r\n  if (!res.ok) throw new Error(\"Failed to create note\");\r\n  return res.json();\r\n}\r\n\r\n// DELETE NOTE\r\nexport async function deleteNote(id) {\r\n  const token = localStorage.getItem(\"token\");\r\n  const res = await fetch(`${API_BASE_URL}/notes/${id}`, {\r\n    method: \"DELETE\",\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n  if (!res.ok) throw new Error(\"Failed to delete note\");\r\n  return res.json();\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}