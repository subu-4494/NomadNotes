{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{loginUser}from\"../../services/api\";import{useNavigate,Link}from\"react-router-dom\";import\"./login.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Login(){const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[error,setError]=useState(null);const[loading,setLoading]=useState(false);const navigate=useNavigate();useEffect(()=>{document.body.classList.add(\"login-page\");document.documentElement.classList.add(\"login-page\");return()=>{document.body.classList.remove(\"login-page\");document.documentElement.classList.remove(\"login-page\");};},[]);async function handleSubmit(e){e.preventDefault();setLoading(true);setError(null);const data=await loginUser({email,password});setLoading(false);if(data!==null&&data!==void 0&&data.token){localStorage.setItem(\"token\",data.token);localStorage.setItem(\"username\",data.username);alert(\"Login successful!\");navigate(\"/dashboard\");}else{setError((data===null||data===void 0?void 0:data.message)||\"Login failed\");}}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"video-background\",children:[/*#__PURE__*/_jsx(\"video\",{src:\"/assets/vid7.mp4\",autoPlay:true,loop:true,muted:true}),/*#__PURE__*/_jsx(\"video\",{src:\"/assets/vid8.mp4\",autoPlay:true,loop:true,muted:true}),/*#__PURE__*/_jsx(\"video\",{src:\"/assets/vid6.mp4\",autoPlay:true,loop:true,muted:true}),/*#__PURE__*/_jsx(\"video\",{src:\"/assets/vid5.mp4\",autoPlay:true,loop:true,muted:true}),/*#__PURE__*/_jsx(\"video\",{src:\"/assets/vid9.mp4\",autoPlay:true,loop:true,muted:true}),/*#__PURE__*/_jsx(\"video\",{src:\"/assets/vid3.mp4\",autoPlay:true,loop:true,muted:true}),/*#__PURE__*/_jsx(\"video\",{src:\"/assets/vid1.mp4\",autoPlay:true,loop:true,muted:true}),/*#__PURE__*/_jsx(\"video\",{src:\"/assets/vid2.mp4\",autoPlay:true,loop:true,muted:true}),/*#__PURE__*/_jsx(\"video\",{src:\"/assets/vid4.mp4\",autoPlay:true,loop:true,muted:true})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"login-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",value:email,onChange:e=>setEmail(e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,children:loading?\"Logging in...\":\"Login\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Don\\u2019t have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Register here\"})]})]})]});}export default Login;","map":{"version":3,"names":["React","useState","useEffect","loginUser","useNavigate","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","email","setEmail","password","setPassword","error","setError","loading","setLoading","navigate","document","body","classList","add","documentElement","remove","handleSubmit","e","preventDefault","data","token","localStorage","setItem","username","alert","message","children","className","src","autoPlay","loop","muted","onSubmit","type","placeholder","value","onChange","target","required","disabled","to"],"sources":["D:/web development/Projects/NomadNotes/frontend/src/components/auth/login.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { loginUser } from \"../../services/api\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\nimport \"./login.css\";\r\n\r\nfunction Login() {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    document.body.classList.add(\"login-page\");\r\n    document.documentElement.classList.add(\"login-page\");\r\n    return () => {\r\n      document.body.classList.remove(\"login-page\");\r\n      document.documentElement.classList.remove(\"login-page\");\r\n    };\r\n  }, []);\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    const data = await loginUser({ email, password });\r\n    setLoading(false);\r\n\r\n    if (data?.token) {\r\n      localStorage.setItem(\"token\", data.token);\r\n      localStorage.setItem(\"username\", data.username);\r\n      alert(\"Login successful!\");\r\n      navigate(\"/dashboard\");\r\n    } else {\r\n      setError(data?.message || \"Login failed\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"video-background\">\r\n        <video src=\"/assets/vid7.mp4\" autoPlay loop muted />\r\n        <video src=\"/assets/vid8.mp4\" autoPlay loop muted />\r\n        <video src=\"/assets/vid6.mp4\" autoPlay loop muted />\r\n        <video src=\"/assets/vid5.mp4\" autoPlay loop muted />\r\n        <video src=\"/assets/vid9.mp4\" autoPlay loop muted />\r\n        <video src=\"/assets/vid3.mp4\" autoPlay loop muted />\r\n        <video src=\"/assets/vid1.mp4\" autoPlay loop muted />\r\n        <video src=\"/assets/vid2.mp4\" autoPlay loop muted />\r\n        <video src=\"/assets/vid4.mp4\" autoPlay loop muted />\r\n      </div>\r\n\r\n      <form onSubmit={handleSubmit} className=\"login-form\">\r\n        <h2>Login</h2>\r\n        {error && <p className=\"error-message\">{error}</p>}\r\n\r\n        <input\r\n          type=\"email\"\r\n          placeholder=\"Email\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          required\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          required\r\n        />\r\n\r\n        <button type=\"submit\" disabled={loading}>\r\n          {loading ? \"Logging in...\" : \"Login\"}\r\n        </button>\r\n\r\n        <p>\r\n          Donâ€™t have an account? <Link to=\"/\">Register here</Link>\r\n        </p>\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}