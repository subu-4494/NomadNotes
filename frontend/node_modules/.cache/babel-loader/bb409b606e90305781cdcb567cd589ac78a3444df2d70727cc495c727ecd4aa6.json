{"ast":null,"code":"import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function CreateNote(){const[title,setTitle]=useState(\"\");const[content,setContent]=useState(\"\");const[topic,setTopic]=useState(\"\");const[images,setImages]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const navigate=useNavigate();function handleImageChange(e){setImages(Array.from(e.target.files));}async function handleSubmit(e){e.preventDefault();setLoading(true);setError(null);const formData=new FormData();formData.append(\"title\",title);formData.append(\"content\",content);formData.append(\"topic\",topic);images.forEach(imageFile=>{formData.append(\"images\",imageFile);});try{const token=localStorage.getItem(\"token\");const response=await fetch(\"http://localhost:5000/api/notes/create\",{method:\"POST\",headers:{Authorization:\"Bearer \".concat(token)},body:formData});const data=await response.json();setLoading(false);if(response.ok){alert(\"Note created successfully!\");navigate(\"/dashboard\");}else{setError(data.message||\"Failed to create note\");}}catch(err){setLoading(false);setError(\"Error: \"+err.message);}}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"video-background\",children:[/*#__PURE__*/_jsx(\"video\",{src:\"/assets/vid10.mp4\",autoPlay:true,loop:true,muted:true}),/*#__PURE__*/_jsx(\"video\",{src:\"/assets/vid11.mp4\",autoPlay:true,loop:true,muted:true}),/*#__PURE__*/_jsx(\"video\",{src:\"/assets/vid12.mp4\",autoPlay:true,loop:true,muted:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"video-overlay\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"create-note-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create New Note\"}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,encType:\"multipart/form-data\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Title\",value:title,onChange:e=>setTitle(e.target.value),required:true}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Content\",value:content,onChange:e=>setContent(e.target.value),required:true,rows:5}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Topic\",value:topic,onChange:e=>setTopic(e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",multiple:true,onChange:handleImageChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,children:loading?\"Creating...\":\"Create Note\"})]})]})}),/*#__PURE__*/_jsx(\"style\",{children:\"\\n        .video-background {\\n          position: fixed;\\n          top: 0;\\n          left: 0;\\n          width: 100%;\\n          height: 100%;\\n          overflow: hidden;\\n          z-index: -2;\\n          display: flex;\\n          flex-wrap: wrap;\\n        }\\n\\n        .video-background video {\\n          flex: 1 1 33%;\\n          min-width: 33%;\\n          min-height: 33%;\\n          object-fit: cover;\\n          filter: brightness(0.4) contrast(1.1);\\n        }\\n\\n        .video-overlay {\\n          position: fixed;\\n          top: 0;\\n          left: 0;\\n          width: 100%;\\n          height: 100%;\\n          background: rgba(0,0,0,0.5);\\n          z-index: -1;\\n        }\\n\\n        .form-wrapper {\\n          display: flex;\\n          justify-content: center;\\n          align-items: center;\\n          height: 100vh;\\n        }\\n\\n        .create-note-container {\\n          max-width: 600px;\\n          width: 90%;\\n          background: rgba(0,0,0,0.6);\\n          padding: 20px;\\n          border-radius: 10px;\\n          color: #fff;\\n        }\\n\\n        .create-note-container h2 {\\n          text-align: center;\\n          margin-bottom: 20px;\\n        }\\n\\n        .create-note-container form {\\n          display: flex;\\n          flex-direction: column;\\n        }\\n\\n        .create-note-container input,\\n        .create-note-container textarea {\\n          margin-bottom: 10px;\\n          padding: 10px;\\n          border: none;\\n          border-radius: 5px;\\n        }\\n\\n        .create-note-container button {\\n          padding: 10px;\\n          background-color: #4A90E2;\\n          color: white;\\n          border: none;\\n          border-radius: 5px;\\n          cursor: pointer;\\n        }\\n\\n        .create-note-container button:disabled {\\n          background-color: #6ea1e6;\\n          cursor: not-allowed;\\n        }\\n        \"})]});}export default CreateNote;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CreateNote","title","setTitle","content","setContent","topic","setTopic","images","setImages","loading","setLoading","error","setError","navigate","handleImageChange","e","Array","from","target","files","handleSubmit","preventDefault","formData","FormData","append","forEach","imageFile","token","localStorage","getItem","response","fetch","method","headers","Authorization","concat","body","data","json","ok","alert","message","err","children","className","src","autoPlay","loop","muted","style","color","onSubmit","encType","type","placeholder","value","onChange","required","rows","accept","multiple","disabled"],"sources":["D:/web development/Projects/NomadNotes/frontend/src/components/auth/createnote.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction CreateNote() {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [content, setContent] = useState(\"\");\r\n  const [topic, setTopic] = useState(\"\");\r\n  const [images, setImages] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  function handleImageChange(e) {\r\n    setImages(Array.from(e.target.files));\r\n  }\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"title\", title);\r\n    formData.append(\"content\", content);\r\n    formData.append(\"topic\", topic);\r\n    images.forEach((imageFile) => {\r\n      formData.append(\"images\", imageFile);\r\n    });\r\n\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      const response = await fetch(\"http://localhost:5000/api/notes/create\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: formData,\r\n      });\r\n\r\n      const data = await response.json();\r\n      setLoading(false);\r\n\r\n      if (response.ok) {\r\n        alert(\"Note created successfully!\");\r\n        navigate(\"/dashboard\");\r\n      } else {\r\n        setError(data.message || \"Failed to create note\");\r\n      }\r\n    } catch (err) {\r\n      setLoading(false);\r\n      setError(\"Error: \" + err.message);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {/* Video Background */}\r\n      <div className=\"video-background\">\r\n        <video src=\"/assets/vid10.mp4\" autoPlay loop muted />\r\n        <video src=\"/assets/vid11.mp4\" autoPlay loop muted />\r\n        <video src=\"/assets/vid12.mp4\" autoPlay loop muted />\r\n      </div>\r\n      <div className=\"video-overlay\"></div>\r\n\r\n      {/* Form wrapper to center */}\r\n      <div className=\"form-wrapper\">\r\n        <div className=\"create-note-container\">\r\n          <h2>Create New Note</h2>\r\n          {error && <p style={{ color: \"red\" }}>{error}</p>}\r\n          <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Title\"\r\n              value={title}\r\n              onChange={(e) => setTitle(e.target.value)}\r\n              required\r\n            />\r\n            <textarea\r\n              placeholder=\"Content\"\r\n              value={content}\r\n              onChange={(e) => setContent(e.target.value)}\r\n              required\r\n              rows={5}\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Topic\"\r\n              value={topic}\r\n              onChange={(e) => setTopic(e.target.value)}\r\n              required\r\n            />\r\n            <input\r\n              type=\"file\"\r\n              accept=\"image/*\"\r\n              multiple\r\n              onChange={handleImageChange}\r\n            />\r\n\r\n            <button type=\"submit\" disabled={loading}>\r\n              {loading ? \"Creating...\" : \"Create Note\"}\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n\r\n      {/* CSS */}\r\n      <style>\r\n        {`\r\n        .video-background {\r\n          position: fixed;\r\n          top: 0;\r\n          left: 0;\r\n          width: 100%;\r\n          height: 100%;\r\n          overflow: hidden;\r\n          z-index: -2;\r\n          display: flex;\r\n          flex-wrap: wrap;\r\n        }\r\n\r\n        .video-background video {\r\n          flex: 1 1 33%;\r\n          min-width: 33%;\r\n          min-height: 33%;\r\n          object-fit: cover;\r\n          filter: brightness(0.4) contrast(1.1);\r\n        }\r\n\r\n        .video-overlay {\r\n          position: fixed;\r\n          top: 0;\r\n          left: 0;\r\n          width: 100%;\r\n          height: 100%;\r\n          background: rgba(0,0,0,0.5);\r\n          z-index: -1;\r\n        }\r\n\r\n        .form-wrapper {\r\n          display: flex;\r\n          justify-content: center;\r\n          align-items: center;\r\n          height: 100vh;\r\n        }\r\n\r\n        .create-note-container {\r\n          max-width: 600px;\r\n          width: 90%;\r\n          background: rgba(0,0,0,0.6);\r\n          padding: 20px;\r\n          border-radius: 10px;\r\n          color: #fff;\r\n        }\r\n\r\n        .create-note-container h2 {\r\n          text-align: center;\r\n          margin-bottom: 20px;\r\n        }\r\n\r\n        .create-note-container form {\r\n          display: flex;\r\n          flex-direction: column;\r\n        }\r\n\r\n        .create-note-container input,\r\n        .create-note-container textarea {\r\n          margin-bottom: 10px;\r\n          padding: 10px;\r\n          border: none;\r\n          border-radius: 5px;\r\n        }\r\n\r\n        .create-note-container button {\r\n          padding: 10px;\r\n          background-color: #4A90E2;\r\n          color: white;\r\n          border: none;\r\n          border-radius: 5px;\r\n          cursor: pointer;\r\n        }\r\n\r\n        .create-note-container button:disabled {\r\n          background-color: #6ea1e6;\r\n          cursor: not-allowed;\r\n        }\r\n        `}\r\n      </style>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default CreateNote;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}